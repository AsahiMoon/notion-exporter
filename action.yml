name: "Notion Exporter"
description: "Export notion pages and commit them to the repo"
inputs:
    pages:
      description: "Comma-separated list of page to export the data from"
      required: true
    github-token:
      description: "Github token to use to commit to the repo"
      required: true
    notion-token:
      description: "Value of the token_v2 cookie, required if the page is not public"
      required: false
      default: ""
    output-dir:
        description: "Directory under your repo to sync the data to; note the existing files will be deleted"
        required: true
    branch:
        description: "Branch to use; defaults to 'main'"
        required: true
        default: "main"
runs:
  using: docker
  image: Dockerfile
  env:
    GITHUB_TOKEN: "${{ inputs.github-token }}"
    NOTION_TOKEN: "${{ inputs.notion-token }}"
    BRANCH: "${{ inputs.branch }}"
  args:
    - "${{ inputs.pages }}"
    - "${{ inputs.output-dir }}"
